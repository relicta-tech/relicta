# Multi-Platform CLI Release Configuration
#
# Use case: Go CLI tool with cross-platform binaries
# Features: Automatic versioning, multi-platform builds, GitHub releases with binaries
#
# Setup:
# 1. Copy to .relicta.yaml
# 2. Set GITHUB_TOKEN environment variable
# 3. Ensure goreleaser is configured (.goreleaser.yaml)
# 4. Build binaries: goreleaser build --snapshot
# 5. Run: relicta plan && relicta publish
#
# Expected build artifacts in dist/:
#   - myapp_linux_amd64.tar.gz
#   - myapp_linux_arm64.tar.gz
#   - myapp_darwin_amd64.tar.gz
#   - myapp_darwin_arm64.tar.gz
#   - myapp_windows_amd64.zip
#   - checksums.txt

versioning:
  strategy: conventional
  tag_prefix: v
  git_tag: true
  git_push: true

changelog:
  enabled: true
  file: CHANGELOG.md
  format: conventional
  repository_url: https://github.com/your-org/your-cli

ai:
  enabled: true
  provider: openai
  model: gpt-4o-mini
  tone: professional
  audience: developers

plugins:
  - name: github
    enabled: true
    config:
      draft: false
      prerelease: false
      generate_release_notes: false
      assets:
        # Linux binaries
        - "dist/*_linux_amd64.tar.gz"
        - "dist/*_linux_arm64.tar.gz"
        # macOS binaries
        - "dist/*_darwin_amd64.tar.gz"
        - "dist/*_darwin_arm64.tar.gz"
        # Windows binaries
        - "dist/*_windows_amd64.zip"
        # Checksums
        - "dist/checksums.txt"
        - "dist/checksums.sha256"

  - name: slack
    enabled: true
    config:
      channel: "#releases"
      username: "Release Bot"
      icon_emoji: ":package:"
      mention_users:
        - "@team-leads"

workflow:
  require_approval: true
  allowed_branches:
    - main
